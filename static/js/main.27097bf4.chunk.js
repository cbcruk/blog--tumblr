(this.webpackJsonptumblr=this.webpackJsonptumblr||[]).push([[0],{13:function(e,t,n){e.exports={wrapper:"style_wrapper__3WOY4",form:"style_form__2ew22",button:"style_button__7848U",input:"style_input__1ogHm"}},14:function(e,t,n){e.exports={wrapper:"style_wrapper__2Os4N",timestamp:"style_timestamp__3Qm2S",count:"style_count__g-Jc3",count_icon:"style_count_icon__bCMy5"}},15:function(e,t,n){e.exports={wrapper:"style_wrapper__3QCvG",link:"style_link__2TGid"}},17:function(e,t,n){e.exports={wrapper:"style_wrapper__YTmXj",content:"style_content__OQtuX",details:"style_details__3S-aJ"}},20:function(e,t,n){e.exports={wrapper:"style_wrapper__2041K",inner:"style_inner__35hTm"}},23:function(e,t,n){e.exports={wrapper:"style_wrapper__1aLy9",image:"style_image__2UNES"}},30:function(e,t,n){e.exports={wrapper:"style_wrapper__1Xi6W"}},31:function(e,t,n){e.exports={wrapper:"style_wrapper__jOxPQ"}},44:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),c=n(25),s=n.n(c),o=n(8),i=n(2),l=n(4);var u=function(e){return Object(a.jsxs)("svg",Object(l.a)(Object(l.a)({width:24,height:24,viewBox:"0 0 24 24"},e),{},{children:[Object(a.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(a.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z",fill:"#fff"})]}))};var p=function(e){return Object(a.jsxs)("svg",Object(l.a)(Object(l.a)({width:24,height:24,viewBox:"0 0 24 24"},e),{},{children:[Object(a.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z",fill:"#fff"})]}))};var j=function(e){return Object(a.jsxs)("svg",Object(l.a)(Object(l.a)({width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor"},e),{},{children:[Object(a.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(a.jsx)("path",{d:"M3 18h12v-2H3v2zM3 6v2h18V6H3zm0 7h18v-2H3v2z"})]}))},b=n(10);var d=function(){var e=Object(r.useReducer)((function(e,t){return Object(l.a)(Object(l.a)({},e),t.payload)}),{show:!1,search:""}),t=Object(b.a)(e,2),n=t[0],a=t[1];return{state:n,handleSubmit:function(){a({type:"SUBMIT_FORM",payload:{show:!1}}),window.open("https://cbcruk.tumblr.com/archive/tagged/".concat(decodeURIComponent(n.search)))},updateForm:function(e){a({type:"UPDATE_FORM",payload:{search:e}})},toggleForm:function(){a({type:"TOGGLE_FORM",payload:{show:!n.show}})}}},h=n(13),m=n.n(h);var f=function(){var e=d(),t=e.state,n=e.handleSubmit,r=e.updateForm,c=e.toggleForm,s=t.show;return Object(a.jsxs)("div",{className:m.a.wrapper,children:[Object(a.jsx)("form",{hidden:!s,className:m.a.form,onSubmit:function(e){e.preventDefault(),n(),e.target.reset()},children:Object(a.jsx)("input",{type:"search",className:m.a.input,placeholder:"Search",onChange:function(e){r(e.target.value)}})}),Object(a.jsxs)("button",{type:"button",className:m.a.button,onClick:function(){c()},children:[Object(a.jsx)(u,{hidden:!s}),Object(a.jsx)(p,{hidden:s})]})]})},O=n(20),x=n.n(O);var v=function(){return Object(a.jsx)("div",{className:x.a.wrapper,children:Object(a.jsx)("div",{className:x.a.inner,children:Object(a.jsx)(f,{})})})},_=n(16),g=n.n(_),w=n(11),y=n.n(w),N=n(26),M=n(27),k="https://api.tumblr.com/v2/blog/cbcruk/posts",S="name,description,updated",z={headers:{accept:"application/json;format=camelcase",authorization:"Bearer ".concat("aIcXSOoTtqrzR8L8YEIOmBeW94c3FmbSNSWAUbxsny9KKx5VFh")}},U=Object(M.a)((function(e,t){return{get:t,set:e,status:"idle",blog:{},posts:[],links:{},pageNumber:1,getPosts:function(){var t=Object(N.a)(y.a.mark((function t(){var n,a,r,c,s,o=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:1,a=15*(n-1),r="".concat(k,"?fields[blogs]=").concat(S,"&pageNumber=").concat(n,"&offset=").concat(a,"&limit=15"),e({status:"request"}),t.prev=4,t.next=7,fetch(r,z);case 7:return c=t.sent,t.next=10,c.json();case 10:s=t.sent,e((function(e){return Object(l.a)(Object(l.a)(Object(l.a)({},e),s.response),{},{status:"success"})})),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(4),e({status:"failure"});case 17:case"end":return t.stop()}}),t,null,[[4,14]])})));return function(){return t.apply(this,arguments)}}()}}));var C=function(){var e=Object(i.g)().page,t=U((function(e){return e})),n=t.status,a=t.posts,c=t.getPosts;return Object(r.useEffect)((function(){window.scrollTo(0,0),c(e)}),[c,e]),{status:n,posts:a,pageNumber:e}},F=n(23),T=n.n(F);var P=function(e){var t=e.image,n=e.sourceUrl,r=t.media[2],c=r.url,s=r.width,o=r.height,i=r.colors;return Object(a.jsx)("div",{className:T.a.wrapper,style:{"--width":s,"--height":o,"--gradient-start":"#".concat(i.c0),"--gradient-end":"#".concat(i.c1)},children:Object(a.jsx)("a",{href:n,target:"_blank",rel:"noreferrer",children:Object(a.jsx)("img",{src:c,alt:"",loading:"lazy",className:T.a.image})})})},B=n(29),H=n.n(B),I=n(14),Y=n.n(I);var E=function(e){var t=e.date,n=e.timestamp,r=e.noteCount,c=e.postUrl,s=H()(t).format("DD/MM/YYYY");return Object(a.jsxs)("div",{className:Y.a.wrapper,children:[Object(a.jsx)("a",{href:c,target:"_blank",rel:"noreferrer",title:s,className:Y.a.timestamp,children:n}),r>0&&Object(a.jsxs)("div",{className:Y.a.count,children:[Object(a.jsx)(j,{className:Y.a.count_icon})," ",r," notes"]})]})},R=n(30),L=n.n(R);var q=function(e){var t=e.texts;return Object(a.jsx)("div",{className:L.a.wrapper,children:t.map((function(e,t){var n=e.text;return Object(a.jsx)("p",{children:n},t)}))})},D=n(17),G=n.n(D);var J=function(e){var t=e.id,n=e.content,r=e.timestamp,c=e.noteCount,s=e.postUrl,o=e.sourceUrl,i=e.date,l=n.find((function(e){return"image"===e.type})),u=n.filter((function(e){return"text"===e.type}));return Object(a.jsx)("div",{className:G.a.wrapper,children:Object(a.jsxs)("div",{className:G.a.content,children:[l&&Object(a.jsx)(P,{image:l,sourceUrl:o}),Object(a.jsxs)("div",{className:G.a.details,children:[Object(a.jsx)(q,{texts:u}),Object(a.jsx)(E,{date:i,timestamp:r,noteCount:c,postUrl:s})]})]})},t)};var Q=function(){var e=Object(i.g)().page,t=U((function(e){return e.totalPosts})),n=Object(r.useMemo)((function(){return[parseInt(e,10)-1,parseInt(e,10)+1]}),[e]),a=Object(b.a)(n,2),c=a[0],s=a[1],o=Object(r.useMemo)((function(){return Math.ceil(t/15)}),[t]);return{page:e,lastPage:o,prev:c,next:s}},W=n(15),X=n.n(W);var A=function(){var e=Q(),t=e.page,n=e.lastPage,r=e.prev,c=e.next;return Object(a.jsxs)("div",{className:X.a.wrapper,children:[t," / ",n,Object(a.jsxs)("nav",{className:X.a.nav,children:[Object(a.jsx)(o.b,{to:"/page/".concat(r),className:X.a.link,children:"Prev"}),Object(a.jsx)(o.b,{to:"/page/".concat(c),className:g()([X.a.link,"is-next"]),children:"Next"})]})]})},K=n(31),V=n.n(K);var Z=function(){var e=C(),t=e.status,n=e.posts,r="request"===t;return Object(a.jsxs)("div",{className:g()([V.a.wrapper,{"is-request":r}]),children:[n.map((function(e){return"photo"===e.originalType?Object(a.jsx)(J,Object(l.a)({},e),e.id):null})),n.length>0&&Object(a.jsx)(A,{})]})};var $=function(){return Object(a.jsxs)(o.a,{children:[Object(a.jsx)(v,{}),Object(a.jsxs)(i.d,{children:[Object(a.jsx)(i.b,{path:"/page/:page",children:Object(a.jsx)(Z,{})}),Object(a.jsx)(i.a,{from:"*",to:"/page/1"})]})]})};n(43),n(44);s.a.render(Object(a.jsx)(r.StrictMode,{children:Object(a.jsx)($,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.27097bf4.chunk.js.map